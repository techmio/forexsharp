using FXSharp.EA.OrderManagements;
using NUnit.Framework;

namespace FXSharp.EA.NewsBox.Specs
{
    [TestFixture]
    public class When_calculate_lot_size
    {
        [Test]
        public void Should_contain_risk_one_percent()
        {
            var moneyManagement = new MoneyManagement(1, 10000);
            double lot = moneyManagement.CalculateLotSize(400);
            Assert.AreEqual(0.25, lot);
        }

        [Test]
        public void Should_contain_risk_one_percent_smaller()
        {
            var moneyManagement = new MoneyManagement(1, 2000);
            double lot = moneyManagement.CalculateLotSize(200);

            Assert.AreEqual(0.1, lot);
        }

        [Test]
        public void Should_default_to_smallest_lot_if_deposit_is_not_enough()
        {
            var moneyManagement = new MoneyManagement(1, 100);
            double lot = moneyManagement.CalculateLotSize(200);

            Assert.AreEqual(0.01, lot);
        }
    }
}